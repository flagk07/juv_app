# Настройка OpenAI API

## Проблема
AI-помощник в боте выдает ошибку "fetch failed" из-за недействительного API ключа OpenAI.

## Решение

### 1. Получите действующий API ключ OpenAI
1. Перейдите на https://platform.openai.com/
2. Войдите в свой аккаунт или создайте новый
3. Перейдите в раздел "API Keys"
4. Создайте новый API ключ

### 2. Обновите файл .env
Замените строку:
```
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE
```
На ваш действующий ключ:
```
OPENAI_API_KEY=sk-your-actual-api-key-here
```

### 3. Восстановите OpenAI функциональность
После обновления API ключа, замените простые ответы в `src/index.js` на OpenAI:

```javascript
// Generate AI response
const completion = await openai.chat.completions.create({
  model: "gpt-4o",
  messages: [
    {
      role: "system",
      content: `Вы - эксперт-консультант ювелирного магазина JUV. 
      
Вы помогаете клиентам с:
- Выбором ювелирных изделий
- Информацией о камнях, металлах, пробах
- Уходом за украшениями  
- Подбором размера
- Рекомендациями по стилю
- Ценовыми консультациями

Отвечайте дружелюбно, профессионально и информативно. 
Если вопрос не связан с ювелирными изделиями, вежливо перенаправьте разговор на тему украшений.
Длина ответа - до 500 символов.`
    },
    {
      role: "user",
      content: question
    }
  ],
  max_tokens: 200,
  temperature: 0.7
});

const response = completion.choices[0]?.message?.content || 
                "Извините, не смог обработать ваш вопрос. Попробуйте переформулировать.";
```

### 4. Перезапустите бота
```bash
npm run dev
```

## Временное решение
Пока API ключ не обновлен, бот использует простые ответы на основе ключевых слов. 